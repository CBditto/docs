<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-D8PMW3CCL2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-D8PMW3CCL2",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Ditto" href="/opensearch.xml">
<!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-PV7QFWF",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager --><title data-react-helmet="true">Identities | Ditto</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.ditto.live/csharp/common/mesh-network/identities"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-csharp-current"><meta data-react-helmet="true" property="og:title" content="Identities | Ditto"><meta data-react-helmet="true" name="description" content="Every installation of an app that uses Ditto has its own identity. This identity"><meta data-react-helmet="true" property="og:description" content="Every installation of an app that uses Ditto has its own identity. This identity"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.ditto.live/csharp/common/mesh-network/identities"><link data-react-helmet="true" rel="alternate" href="https://docs.ditto.live/csharp/common/mesh-network/identities" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.ditto.live/csharp/common/mesh-network/identities" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://F25GUUSPFJ-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.1d3676ae.css">
<link rel="preload" href="/assets/js/runtime~main.545aedb9.js" as="script">
<link rel="preload" href="/assets/js/main.e5335004.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="25" height="25"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><a href="https://ditto.live" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logo.png" alt="Ditto Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo.png" alt="Ditto Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Ditto</b></a><a class="navbar__item navbar__link" href="/">Documentation</a><a href="https://github.com/getditto/samples" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Example Apps</span></a><a href="https://github.com/getditto" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Open Source</span></a><a href="https://github.com/getditto/docs/discussions/categories/roadmap-and-ideas" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Roadmap</span></a><a class="navbar__item navbar__link" href="/changelog">Changelog</a><a class="navbar__item navbar__link" href="/faq">FAQ</a></div><div class="navbar__items navbar__items--right"><a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span class="inline">Login</span></a><div class="searchBox_xXbB"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_3jCp"><nav class="overflow-y-auto menu thin-scrollbar overflow-x-visible menu_1DcY menuWithAnnouncementBar_3IKd"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/csharp/installation">Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorial</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item"><a class="menu__link menu__link--sublist" href="#">Main Concepts</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/common/concepts/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/common/concepts/documents">Documents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/common/concepts/update">Update</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/common/concepts/upsert">Upsert</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/common/concepts/querying">Querying</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/common/concepts/remove">Remove</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/common/concepts/evict">Evict</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/common/concepts/transactions">Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/common/concepts/syncing-data">Syncing Data</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Data Model</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Mesh Network</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/csharp/common/mesh-network/identities">Identities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/common/mesh-network/online-playground">Online Playground</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/common/mesh-network/offline-license">Offline License Token</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/common/mesh-network/manual">Manual Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-NaN menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/common/mesh-network/supported-transports">Supported Transports</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Quick Tips</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Security</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Integration Guides</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-undefined menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">How it Works</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a href="https://software.ditto.live/dotnet/Ditto/1.1.9/api-reference/" target="_blank" rel="noopener noreferrer" class="menu__link"><span>API Reference</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/csharp/common/supported-platforms">Supported Platforms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-undefined menu__list-item"><a class="menu__link" href="/csharp/common/troubleshooting">Troubleshooting</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_2rXS"><div class="docItemContainer_1EXp"><article class="prose max-w-none"><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_Ftrd"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Identities</h1></header><p>Every installation of an app that uses Ditto has its own identity. This identity
is used to identify each unique peer in the mesh network. When you start
prototyping with Ditto you can use a development identity, which contains
default settings and offers no real security. Development certificates should
absolutely not be deployed to any production environments. Once you are ready to
deploy, this can be swapped for a production identity where security is
enforced.</p><p>The Ditto Identity is one of the main inputs to the Ditto Constructor and
controls how your local Ditto instance will communicate with other Ditto Peers.
Each Ditto Identity is associated to a single Ditto client via a globally unique
AppId and may not be used across multiple Ditto apps. A Ditto Identity is used
to accept or reject read and writes with peer instances. Each Ditto Identity can
be associated to a set of <a href="/csharp/common/security/designing-permissions">access control permissions</a> which you specify.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="subtypes-of-ditto-identity">Subtypes of Ditto Identity<a aria-hidden="true" class="hash-link" href="#subtypes-of-ditto-identity" title="Direct link to heading">​</a></h3><ul><li><a href="/csharp/common/mesh-network/online-playground">OnlinePlayground</a> - An insecure identity for prototyping and development use. All modes of sync are supported but no Authentication Provider needs to be configured. Instead, all users will receive full read and write permissions to all App collections and timeseries. Do not use this Identity in production. No <code>DittoAuthEventHandler</code> needs to be provided.</li><li><a href="/csharp/common/security/online-with-authentication">OnlineWithAuthentication</a> - Use this identity for most production Apps. The <code>OnlineWithAuthentication</code> identity supports both Cloud and peer-to-peer sync with secure authentication, encryption, and access control.  The Ditto instance requests the Ditto Big Peer sign an x509 certificate, using the previously validated credentials and Authentication Token as proof of its identity. Use typically requires configuring an Authentication Provider for your App within the Ditto Big Peer portal, which can validate user-provided credentials. This identity also requires a developer-provided implementation of the <code>DittoAuthEventHandler</code> (<code>DittoAuthCallback</code>) interface. For a more thorough walkthrough for setting up authentication with your application, see the <a href="/guides/authentication/intro">tutorial</a>.  </li><li><a href="/csharp/common/security/shared-key">SharedKey</a> - A secure Identity used for &quot;private&quot; Apps where the developer trusts all users, the Ditto-based App, and devices and would prefer a fully self-contained deployment. Ditto instances are each provided with a pre-shared key that is used for mutual authentication. This Identity does NOT support sync over the Big Peer. Typically used with some external device management solution which can provide and rotate the pre-shared key. Ditto instances using this identity must be activated with an offline only license token that can be requested from the app settings page on the <a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer">portal</a>.</li><li><a href="/csharp/common/how-it-works/certificate-security">Manual</a> - An advanced Identity where the app developer will provide each Ditto instance with an x509 Client Certificate signed by a common, trusted Certificate Authority. Like <code>SharedKey</code> typically deployed along side existing PKI and device management solutions. This Identity cannot sync with the publicly-accessible Big Peer at <code>cloud.ditto.live</code> but may sync with a custom deployment. Ditto instances using this identity must be activated with an offline only license token that can be requested from the app settings page on the <a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer">portal</a>.</li><li><a href="/csharp/common/mesh-network/offline-license">OfflinePlayground</a> - An <em>unsecured</em> identity suitable for local testing, CI/CD pipelines, and peer-to-peer sync. Cloud sync is not permitted. All peers are automatically trusted and no authentication takes place. Do <em>not</em> use this Identity in production. Given that this identity doesn&#x27;t use the Ditto cloud, Ditto instances using this identity must be activated with an offline only license token that can be requested from the app settings page on the <a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer">portal</a>.</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="ditto-identity-lifecycle">Ditto Identity Lifecycle<a aria-hidden="true" class="hash-link" href="#ditto-identity-lifecycle" title="Direct link to heading">​</a></h3><p>While highly configurable, each Ditto Identity has a typical life cycle. First,
the Ditto Identity is constructed. Typically the only prerequisites are a Ditto
persistence root (working directory for local data storage, where configured)
and a globally unique Ditto AppId. In order to sync, all app instances,
regardless of SDK language, <em>must</em> have the same globally unique Ditto AppId.
Therefore this value will typically be incorporated in the App&#x27;s bundle or
provided to the App when it starts. The Ditto Big Peer can create AppIds for
you, but it is not the authentication provider. Ditto Cloud is a proxy to your
own &quot;source of truth&quot; for identities, credential validation, and permissions.</p><p>Next the Ditto Identity is consumed by the Ditto constructor, yielding a
configured <code>Ditto</code> instance. The Ditto instance will contain a Ditto
Authenticator and your own implementation of the <code>DittoAuthEventHandler</code>
interface, which can provide login credentials. Ditto will then contact the
configured Auth Url and supply the login credentials to an Authentication
Provider. If the credentials are valid, then the Authentication Provider will
return to Ditto an Authentication Token, validating its credentials and granting
the Ditto instance individualized permissions. The Ditto instance can now sync
with other peers.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="parts-of-a-ditto-identity">Parts of a Ditto Identity<a aria-hidden="true" class="hash-link" href="#parts-of-a-ditto-identity" title="Direct link to heading">​</a></h3><ul><li><code>AppId</code> - Uniquely Identifies a Ditto-based App. It establishes a top-level &quot;namespace&quot; within which all Ditto Identities, collections of documents, timeseries events, and permissions live. It is a part of all Identity types. It may be either a string or, more typically, a UUID v4 lowercased and hyphenated. The Ditto Big Peer provisions <code>UUIDv4</code> strings that be used to sync with it&#x27;s servers in the Cloud.</li><li><code>CustomAuthUrl</code> - The URL of an Auth Provider which can validate credentials and issue Auth Tokens and x509 certificates. The default values is <code>https://&lt;app-id&gt;.cloud.ditto.live/</code>. A <code>CustomAuthUrl</code> is only required when another, possibly self-hosted, Auth Provider is preferred. <code>OfflinePlayground</code>, <code>SharedKey</code>, and <code>Manual</code> Identities don&#x27;t require any AuthURL.</li><li><code>EnableCloudSync</code> - Whether Ditto should attempt to sync with <code>wss://&lt;app-id&gt;.cloud.ditto.live</code>. Only used by <code>OnlineWithAuthentication</code> and <code>OnlinePlayground</code> Identities. If you&#x27;re hosting your own Ditto Big Peer, this should be set to <code>false</code> and a custom SyncUrl provided to the Ditto <code>TransportConfig</code></li><li><code>WorkingDir</code> (DittoRoot) - A location where Ditto can cache Auth Tokens, x509 certificates, and other auth-related data. Typically the same as the working directory containing Ditto&#x27;s local data store.</li><li><code>AuthEventHandler</code> (Callback) - A type defined by the App developer which implements the <code>DittoAuthEventHandler</code> (<code>DittoAuthCallback</code>) Trait/Interface/Protocol. Typically responsible for obtaining and storing credentials like a username, password, or other token from the App&#x27;s user and then supplying them to Ditto when authentication is required.</li></ul><p>For more detailed information on what is contained within Ditto Identity certificates, see <a href="/csharp/common/how-it-works/certificate-security">Certificate Security</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/getditto/docs/edit/main/docs/common/mesh-network/identities.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/common/concepts/syncing-data"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Syncing Data</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/common/mesh-network/online-playground"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Online Playground<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#subtypes-of-ditto-identity" class="table-of-contents__link toc-highlight">Subtypes of Ditto Identity</a></li><li><a href="#ditto-identity-lifecycle" class="table-of-contents__link toc-highlight">Ditto Identity Lifecycle</a></li><li><a href="#parts-of-a-ditto-identity" class="table-of-contents__link toc-highlight">Parts of a Ditto Identity</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">Documentation</a></li><li class="footer__item"><a href="https://www.ditto.live/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Main Website</span></a></li><li class="footer__item"><a href="https://github.com/getditto/samples" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Example Apps</span></a></li><li class="footer__item"><a class="footer__link-item" href="/changelog">Changelog</a></li><li class="footer__item"><a href="https://portal.ditto.live" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Login</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/getditto/docs/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub Discussions</span></a></li><li class="footer__item"><a href="https://github.com/getditto/docs/discussions/categories/roadmap-and-ideas" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Roadmap</span></a></li><li class="footer__item"><a href="https://github.com/getditto/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Open Source</span></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/ditto" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow</span></a></li><li class="footer__item"><a href="https://twitter.com/dittolive" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter</span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 DittoLive, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.545aedb9.js"></script>
<script src="/assets/js/main.e5335004.js"></script>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PV7QFWF" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>