"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2997],{3905:function(e,t,o){o.d(t,{Zo:function(){return p},kt:function(){return h}});var n=o(67294);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var c=n.createContext({}),s=function(e){var t=n.useContext(c),o=t;return e&&(o="function"==typeof e?e(t):l(l({},t),e)),o},p=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var o=e.components,i=e.mdxType,r=e.originalType,c=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),d=s(o),h=i,m=d["".concat(c,".").concat(h)]||d[h]||u[h]||r;return o?n.createElement(m,l(l({ref:t},p),{},{components:o})):n.createElement(m,l({ref:t},p))}));function h(e,t){var o=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=o.length,l=new Array(r);l[0]=d;var a={};for(var c in t)hasOwnProperty.call(t,c)&&(a[c]=t[c]);a.originalType=e,a.mdxType="string"==typeof e?e:i,l[1]=a;for(var s=2;s<r;s++)l[s]=o[s];return n.createElement.apply(null,l)}return n.createElement.apply(null,o)}d.displayName="MDXCreateElement"},26534:function(e,t,o){o.r(t),o.d(t,{contentTitle:function(){return c},default:function(){return d},frontMatter:function(){return a},metadata:function(){return s},toc:function(){return p}});var n=o(87462),i=o(63366),r=(o(67294),o(3905)),l=["components"],a={},c="Troubleshooting",s={unversionedId:"troubleshooting",id:"troubleshooting",isDocsHomePage:!1,title:"Troubleshooting",description:"Ditto won't sync",source:"@site/docs/common/troubleshooting.mdx",sourceDirName:".",slug:"/troubleshooting",permalink:"/common/troubleshooting",editUrl:"https://github.com/getditto/docs/edit/main/docs/common/troubleshooting.mdx",tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"Big Peer",permalink:"/common/how-it-works/big-peer"},next:{title:"2.0 Migration Guide",permalink:"/common/v2"}},p=[{value:"Ditto won&#39;t sync",id:"ditto-wont-sync",children:[{value:"Synchronization seems slow, or comes to a halt over time",id:"synchronization-seems-slow-or-comes-to-a-halt-over-time",children:[],level:3},{value:"General diagnostics",id:"general-diagnostics",children:[],level:3},{value:"Bluetooth",id:"bluetooth",children:[],level:3},{value:"Apple Wireless Direct Link, P2P-Wifi, Wifi Aware",id:"apple-wireless-direct-link-p2p-wifi-wifi-aware",children:[],level:3},{value:"Local Area Network (LAN)",id:"local-area-network-lan",children:[],level:3},{value:"Online Playground",id:"online-playground",children:[{value:"Did you copy your playground token and App ID correctly?",id:"did-you-copy-your-playground-token-and-app-id-correctly",children:[],level:4},{value:"Did your device connect to the internet?",id:"did-your-device-connect-to-the-internet",children:[],level:4},{value:"Do you have a firewall or proxy enabled that is blocking Ditto&#39;s connection to the Big Peer?",id:"do-you-have-a-firewall-or-proxy-enabled-that-is-blocking-dittos-connection-to-the-big-peer",children:[],level:4}],level:3},{value:"Online with Authentication",id:"online-with-authentication",children:[],level:3},{value:"Offline Playground and Shared Key",id:"offline-playground-and-shared-key",children:[],level:3},{value:"Still having trouble?",id:"still-having-trouble",children:[],level:3}],level:2}],u={toc:p};function d(e){var t=e.components,a=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"troubleshooting"},"Troubleshooting"),(0,r.kt)("h2",{id:"ditto-wont-sync"},"Ditto won't sync"),(0,r.kt)("p",null,"If you are having trouble synchronizing devices in Ditto, follow this guide."),(0,r.kt)("h3",{id:"synchronization-seems-slow-or-comes-to-a-halt-over-time"},"Synchronization seems slow, or comes to a halt over time"),(0,r.kt)("p",null,"Ensure that you are only creating a fixed number of live queries. Each live query will "),(0,r.kt)("h3",{id:"general-diagnostics"},"General diagnostics"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Set ",(0,r.kt)("inlineCode",{parentName:"li"},"DittoLogger.minimumLogLevel = DittoLogLevel.VERBOSE")," before you initialize ",(0,r.kt)("inlineCode",{parentName:"li"},"Ditto(identity)"),"."),(0,r.kt)("li",{parentName:"ol"},"Look at the logs. Do you see any helpful errors or warnings?"),(0,r.kt)("li",{parentName:"ol"},"Verify that your app id is the same on all devices")),(0,r.kt)("h3",{id:"bluetooth"},"Bluetooth"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Turn Use Location on"),(0,r.kt)("li",{parentName:"ol"},"Turn Bluetooth Scanning on"),(0,r.kt)("li",{parentName:"ol"},"Are permissions set correctly? See ",(0,r.kt)("a",{parentName:"li",href:"../installation"},"installation"),"."),(0,r.kt)("li",{parentName:"ol"},"Go to your OS-level permissions for Bluetooth and clear the app permissions for your application."),(0,r.kt)("li",{parentName:"ol"},"Delete the app, install it again, and open it. Does it ask for Bluetooth permissions?"),(0,r.kt)("li",{parentName:"ol"},"Android only: are you calling ",(0,r.kt)("inlineCode",{parentName:"li"},"ditto.refreshPermissions()"),"?")),(0,r.kt)("h3",{id:"apple-wireless-direct-link-p2p-wifi-wifi-aware"},"Apple Wireless Direct Link, P2P-Wifi, Wifi Aware"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Are permissions set correctly? See ",(0,r.kt)("a",{parentName:"li",href:"../installation"},"installation"),"."),(0,r.kt)("li",{parentName:"ol"},"Go to your OS-level permissions and clear the app permissions for your application."),(0,r.kt)("li",{parentName:"ol"},"Delete the app, install it again, and open it. Does it ask for location permissions?"),(0,r.kt)("li",{parentName:"ol"},"If you are using a custom ",(0,r.kt)("inlineCode",{parentName:"li"},"TransportConfig"),", make sure you have enabled all peer-to-peer transports using ",(0,r.kt)("inlineCode",{parentName:"li"},"enableAllPeerToPeer()"),".")),(0,r.kt)("h3",{id:"local-area-network-lan"},"Local Area Network (LAN)"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Are permissions set correctly? See ",(0,r.kt)("a",{parentName:"li",href:"../installation"},"installation"),"."),(0,r.kt)("li",{parentName:"ol"},"Are both devices connected to the same WiFi network?"),(0,r.kt)("li",{parentName:"ol"},"Check your router settings and see the ",(0,r.kt)("a",{parentName:"li",href:"./mesh-network/supported-transports/#local-area-network"},"LAN troubleshooting guide"),".")),(0,r.kt)("h3",{id:"online-playground"},"Online Playground"),(0,r.kt)("h4",{id:"did-you-copy-your-playground-token-and-app-id-correctly"},"Did you copy your playground token and App ID correctly?"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Login to the ",(0,r.kt)("a",{parentName:"li",href:"https://portal.ditto.live"},"Portal")," "),(0,r.kt)("li",{parentName:"ol"},"Go to your App."),(0,r.kt)("li",{parentName:"ol"},"Make sure that the portal playground token is the same as the value you are using in your code.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Online Playground enabled in the Ditto Portal",src:o(21035).Z})),(0,r.kt)("h4",{id:"did-your-device-connect-to-the-internet"},"Did your device connect to the internet?"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"OnlinePlayground")," applications must connect to the Big Peer first\n",(0,r.kt)("em",{parentName:"p"},"before")," going offline. ",(0,r.kt)("a",{parentName:"p",href:"./mesh-network/online-playground"},"Read more about online playground"),"."),(0,r.kt)("p",null,"If your app need full offline access without ever connecting to the Internet, please\nrequest an ",(0,r.kt)("a",{parentName:"p",href:"./mesh-network/offline-license"},"offline license token"),"."),(0,r.kt)("h4",{id:"do-you-have-a-firewall-or-proxy-enabled-that-is-blocking-dittos-connection-to-the-big-peer"},"Do you have a firewall or proxy enabled that is blocking Ditto's connection to the Big Peer?"),(0,r.kt)("p",null,"Verify that you can reach the following endpoints. You should see the output exactly as written below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"> nc -v MY_APP_ID.cloud.ditto.live 443\nConnection to MY_APP_ID.cloud.ditto.live port 443 [tcp/https] succeeded!\n^C\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"> curl -i https://MY_APP_ID.cloud.ditto.live/_ditto/auth/login\nHTTP/1.1 405 Method Not Allowed\nDate: Fri, 30 Sep 2022 02:03:36 GMT\nContent-Type: text/plain; charset=utf-8\nContent-Length: 23\nConnection: keep-alive\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Credentials: true\nAccess-Control-Allow-Methods: GET, PUT, POST, DELETE, PATCH, OPTIONS\nAccess-Control-Allow-Headers: X-DITTO-ENSURE-INSERT,X-HYDRA-ENSURE-INSERT,X-DITTO-CLIENT-ID,X-HYDRA-CLIENT-ID,Accept,Referer,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization,X-Forwarded-For\nAccess-Control-Max-Age: 1728000\n\nHTTP method not allowed% \n")),(0,r.kt)("p",null,"If this test passes, next check to see if WebSockets are blocked on your\nmachine. Some corporate networks, firewalls, or proxies block the HTTP upgrade\npacket that tells the WebSocket server to keep the connection alive. Check with\nyour IT administrator to see if your computer is configured to block WebSocket connections."),(0,r.kt)("h3",{id:"online-with-authentication"},"Online with Authentication"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Did you follow the ",(0,r.kt)("a",{parentName:"li",href:"./guides/authentication/intro"},"tutorial"),"?"),(0,r.kt)("li",{parentName:"ol"},"Is the website address behind ",(0,r.kt)("inlineCode",{parentName:"li"},"https")," and available on the open Internet? "),(0,r.kt)("li",{parentName:"ol"},"Verfiy that your server is reachable by the Big Peer at ",(0,r.kt)("inlineCode",{parentName:"li"},"https://APP_ID.ditto.live")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"https://cloud.ditto.live"),"."),(0,r.kt)("li",{parentName:"ol"},"Are you implementing the ",(0,r.kt)("a",{parentName:"li",href:"./security/online-with-authentication#creating-your-client"},"authentication expiring soon")," delegate?"),(0,r.kt)("li",{parentName:"ol"},"Verify that your webhook provider name is ",(0,r.kt)("a",{parentName:"li",href:"./security/online-with-authentication#login"},"correctly copied in the Ditto portal"),".")),(0,r.kt)("h3",{id:"offline-playground-and-shared-key"},"Offline Playground and Shared Key"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Login to the ",(0,r.kt)("a",{parentName:"li",href:"https://portal.ditto.live"},"Ditto Portal"),"."),(0,r.kt)("li",{parentName:"ol"},"Check the value of your offline license token in the Ditto Portal. Is the offline license token expired?"),(0,r.kt)("li",{parentName:"ol"},"Is the offline license token copied correctly?"),(0,r.kt)("li",{parentName:"ol"},"Is the shared key copied correctly? ",(0,r.kt)("a",{parentName:"li",href:"./security/shared-key"},"Generate a new shared key."))),(0,r.kt)("h3",{id:"still-having-trouble"},"Still having trouble?"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Are you creating many live queries? Reduce the number of live queries in your app. ")),(0,r.kt)("p",null,"Email us at ",(0,r.kt)("a",{parentName:"p",href:"support.ditto.live"},"support@ditto.live")," or ",(0,r.kt)("a",{parentName:"p",href:"https://portal.ditto.live"},"login to your Ditto account")," to chat with the support bot in the\nlower right corner of your screen. An engineer will reach out to you shortly."))}d.isMDXComponent=!0},21035:function(e,t,o){t.Z=o.p+"assets/images/portal-playground-setting-99074a40a3741119540b4be524814aa5.png"}}]);